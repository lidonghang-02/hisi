# 主体结构设计
![猫咪自动铲屎机.png](https://s2.loli.net/2023/07/17/b9os3MWjVC7zNr1.png)
主要分为三大部分，物联网部分、外壳设计、功能设计。

功能设计方面，不同于传统旋转式猫咪铲屎机，我们大胆采用了直线式铲屎。传统猫咪铲屎机，为旋转式铲屎，利用滚筒和网筛选出猫砂，再让猫屎自由落体进入容器中。这种结构可以说相当精妙，但这也使得清洁和处理猫砂成为一个问题。使得这种自动成为另一种负担。

而直线式可以有效解决这一问题。正如远距离传电由交流转为直流一般，大道至简。直线式，可将底部容器分为两个部分，一个装排泄物，一个装废弃的猫砂。并且可以方便的套上垃圾袋，方便铲屎官。

直线式并非完美无缺，这对于电机扭矩有极大的要求。因此我们特意选择了步进电机作为驱动装置。然而这带来了另一个问题，即速度慢。经过我们深入研究Hi3861的硬件，我们选择Hi3861的硬件定时器，基于寄存器与内核代码重构硬件定时器代码，实现了us级脉冲，以此来驱动步进电机的高速运转。并且将其完善，使得其可以同STM32般简单易用，大大方便后续开发者，我们将其命名为“EasyTimer”。

当然，对于猫咪铲屎机，防夹猫也是一项必不可少的功能。每个铲屎官都害怕铲屎机会对可爱的猫主子造成伤害。因此，我们使用超声波测距来检测猫主子，如果检测到了，就暂停工作，如果猫主子走了，再恢复工作。

对于一个设备没有UI是万万不可的，因此我使用OLED显示一些相关信息，供铲屎官了解。

在物联网方面，我们开发了一个APP来实时监控铲屎机的工作状况和信息，并且可以通过发送指令，来控制铲屎机。该APP连接华为云，设备则通过MQTT连接华为云，实时发送数据和接受指令，并执行指令。

在外壳设计方面，我们始终贯彻方便铲屎官的理念。我们将铲屎机分为上下两个部分，下面可拆卸，方便清洗。上面则为工作区，负责铲屎。

# 系统任务设计

# 功能说明


